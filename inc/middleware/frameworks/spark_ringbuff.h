/*
*********************************************************************************************************
*
* Filename      : yp3_ringbuff.h
* Description   : yp3_ringbuff head
* Revision      : V1.0
* Author        : Tong Yan
* Created       : 2020/07/20
* Last Updated  : 2020/07/20
*
* Revision History:
* 2020/07/20 Revision 1.0
* 2021/08/12 modified by ZYJ
*
*********************************************************************************************************
*/
#ifndef __SPARK_RINGBUFF_H__
#define __SPARK_RINGBUFF_H__
#include "sys_inc.h"
/********************************************************************************************************
*   DEFINE
********************************************************************************************************/

/********************************************************************************************************
*   CONSTANTS
********************************************************************************************************/

/********************************************************************************************************
*   CUSTOMIZATION
********************************************************************************************************/

/********************************************************************************************************
*   DATA TYPES
********************************************************************************************************/
typedef struct
{
    uint32_t size;
    uint32_t w_addr;
    uint32_t r_addr;
    uint8_t *TxBuffp;
    uint8_t *RxBuffp;
} ring_buf_t;
/********************************************************************************************************
*   GLOBAL VARIABLES
********************************************************************************************************/

/********************************************************************************************************
*   FUNCTIONS
********************************************************************************************************/
uint32_t ring_get_used_size(ring_buf_t *rp);
uint32_t ring_get_left_size(ring_buf_t *rp);
uint32_t ring_try_read(ring_buf_t *rp, void *buff, uint32_t len);
uint32_t ring_read(ring_buf_t *rp, void *buff, uint32_t len);
uint32_t ring_write(ring_buf_t *rp, void *data, uint32_t len);
#endif /* __SPARK_RINGBUFF_H__ */
